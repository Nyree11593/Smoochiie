<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Shop Characters - Smoochiie</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet" />
  <style>
    :root { --bg-dark: #0a0a0f; --red-gradient-start: #650304; --red-gradient-end: #a31e1e; }
    body { font-family: 'Inter', sans-serif; background-color: var(--bg-dark); background: linear-gradient(135deg, #0a0a0f 0%, #15151e 50%, #0a0a0f 100%); color: #e8e8ea; overflow-x: hidden; min-height: 100vh; }
    nav { background: rgba(10, 10, 15, 0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; }
    .container-custom { max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 10; }
    .text-gradient-red { background: linear-gradient(180deg, var(--red-gradient-start), var(--red-gradient-end)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 15px rgba(163, 30, 30, 0.5)); }
    .page-content { display: flex; gap: 24px; padding: 40px 20px; max-width: 1200px; margin: 0 auto; }
    aside { width: 220px; background: #15151e; border: 3px solid #000; box-shadow: 8px 8px 0px #000; border-radius: 12px; padding: 20px; font-size: 14px; color: #e8e8ea; }
    aside h3 { font-weight: 900; margin-bottom: 16px; text-transform: uppercase; color: var(--red-gradient-end); margin-top: 20px; }
    aside h3:first-child { margin-top: 0; }
    aside label { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; cursor: pointer; }
    aside input[type="checkbox"] { accent-color: var(--red-gradient-end); }
    .character-grid { flex: 1; display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px 20px; align-items: start; }
    .card { background: #15151e; border: 3px solid #000; box-shadow: 8px 8px 0px #000; border-radius: 12px; padding: 12px; text-align: center; position: relative; color: #e8e8ea; }
    .card img { width: 100%; height: auto; max-height: 200px; object-fit: contain; margin: 0 auto 8px auto; border-radius: 8px; background: var(--bg-dark); padding: 8px; }
    .card .label { position: absolute; top: 8px; left: 8px; background: var(--red-gradient-end); color: #000; font-size: 10px; font-weight: 900; padding: 2px 6px; border-radius: 6px; text-transform: uppercase; }
    .card .name { font-weight: 900; font-size: 14px; text-transform: uppercase; margin-bottom: 10px; }
    .card .price { font-weight: 700; font-size: 16px; color: var(--red-gradient-end); margin-bottom: 10px; }
    .add-btn { display: block; width: 100%; background: #a31e1e; color: #000; border: none; padding: 8px 5px; border-radius: 8px; font-weight: 900; text-transform: uppercase; font-size: 12px; cursor: pointer; }
    #cart-count { position: absolute; top: -8px; right: -10px; background: #a31e1e; color: white; font-size: 10px; padding: 2px 6px; border-radius: 999px; font-weight: 900; }
    #mini-cart { position: absolute; top: 100%; right: 0; width: 350px; background: rgba(15, 15, 20, 0.98); backdrop-filter: blur(15px); border: 1px solid #333; box-shadow: 0 10px 30px rgba(0,0,0,0.5); padding: 20px; display: none; z-index: 1000; margin-top: 10px; color: white; border-radius: 12px; }
    .cart-item-mini { display: flex; gap: 15px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #222; }
    .cart-item-mini img { width: 60px; height: 60px; object-fit: cover; border-radius: 8px; }
    .proceed-btn { width: 100%; background: linear-gradient(180deg, var(--red-gradient-start), var(--red-gradient-end)); color: white; font-weight: 900; text-transform: uppercase; padding: 12px; text-align: center; display: block; margin-top: 15px; border-radius: 8px; text-decoration: none; }
    .continue-shopping { display: block; text-align: center; font-size: 0.7rem; text-transform: uppercase; color: #9ca3af; margin-top: 10px; text-decoration: underline; cursor: pointer; }
  </style>
</head>
<body>

  <nav class="py-4">
    <div class="container-custom flex justify-between items-center">
      <div class="text-2xl font-black tracking-tighter flex items-center">
        <span class="text-white uppercase">SMOOCHIIEâ„¢</span>
        <span class="text-gradient-red ml-1">ðŸ’‹</span>
      </div>
      <div class="flex space-x-12 font-bold text-xs uppercase tracking-[0.2em] text-gray-400">
        <a class="hover:text-white transition" href="#">Home</a>
        <a class="hover:text-white transition font-black text-white" href="#">Shop Characters</a>
        <a class="hover:text-white transition" href="#">Refund Policy</a>
        <a class="hover:text-white transition" href="#">FAQ</a>
      </div>
      <div class="flex items-center space-x-8 text-white">
        <i id="search-btn" class="fas fa-search text-lg cursor-pointer"></i>
        <div class="relative" id="cart-icon-container" onclick="toggleCart()" style="cursor:pointer">
          <i class="fas fa-shopping-cart text-xl"></i>
          <span id="cart-count">0</span>
          <div id="mini-cart">
            <h3 class="text-sm font-black uppercase mb-4 tracking-widest">Items in your bag</h3>
            <div id="mini-cart-items"></div>
            <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-800">
              <span class="text-xs font-bold uppercase text-gray-400">Subtotal</span>
              <span class="font-black text-gradient-red" id="mini-cart-subtotal">$0.00</span>
            </div>
            <a class="proceed-btn" href="bag.html">Proceed to Bag</a>
            <span class="continue-shopping" style="color: #ef4444; margin-bottom: 5px;">Clear Cart</span>
            <span class="continue-shopping">Continue Shopping</span>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <main class="page-content">
    <aside>
      <h3>Category</h3>
      <label><input type="checkbox" value="Hospital" /> Hospital Workers</label>
      <div style="padding-left: 16px;">
        <label><input type="checkbox" value="Nurse" /> Nurse</label>
        <label><input type="checkbox" value="Ultrasound" /> Ultrasound Tech</label>
        <label><input type="checkbox" value="X-Ray" /> X-Ray / CT / MRI</label>
      </div>
      <h3>Fantasy</h3>
      <label><input type="checkbox" value="Dragons" /> Dragons</label>
      <label><input type="checkbox" value="Vampire" /> Vampire</label>
      <h3>Smoochiie Originals</h3>
      <label><input type="checkbox" value="Caricature" /> Caricature</label>
      <label><input type="checkbox" value="Funny" /> Funny</label>
      <h3>Tags</h3>
      <label><input type="checkbox" value="New" /> New</label>
    </aside>

    <section class="character-grid">
      <!-- CARICATURE PLACEHOLDERS -->
      <div class="card" data-category="originals caricature">
        <div class="label">CARICATURE</div>
        <img alt="Caricature Nurse" src="https://placehold.co/300x300?text=Caricature+Nurse" />
        <div class="name">Caricature Nurse</div>
        <div class="price">$13.99</div>
        <button class="add-btn" data-name="Caricature Nurse" data-price="13.99" data-image="https://placehold.co/300x300?text=Caricature+Nurse">Add to Cart</button>
      </div>

      <div class="card" data-category="originals caricature">
        <div class="label">CARICATURE</div>
        <img alt="Caricature Doctor" src="https://placehold.co/300x300?text=Caricature+Doctor" />
        <div class="name">Caricature Doctor</div>
        <div class="price">$13.99</div>
        <button class="add-btn" data-name="Caricature Doctor" data-price="13.99" data-image="https://placehold.co/300x300?text=Caricature+Doctor">Add to Cart</button>
      </div>

      <div class="card" data-category="originals caricature">
        <div class="label">CARICATURE</div>
        <img alt="Caricature Artist" src="https://placehold.co/300x300?text=Caricature+Artist" />
        <div class="name">Caricature Artist</div>
        <div class="price">$13.99</div>
        <button class="add-btn" data-name="Caricature Artist" data-price="13.99" data-image="https://placehold.co/300x300?text=Caricature+Artist">Add to Cart</button>
      </div>

      <!-- OTHER ITEMS -->
      <div class="card" data-category="hospital nurse">
        <div class="label">HOSPITAL</div>
        <img alt="Nurse" src="https://placehold.co/300x300?text=Nurse" />
        <div class="name">Nurse Character</div>
        <div class="price">$12.99</div>
        <button class="add-btn" data-name="Nurse Character" data-price="12.99" data-image="https://placehold.co/300x300?text=Nurse">Add to Cart</button>
      </div>

      <div class="card" data-category="fantasy dragons">
        <div class="label">FANTASY</div>
        <img alt="Dragon" src="https://placehold.co/300x300?text=Dragon" />
        <div class="name">Dragon Character</div>
        <div class="price">$14.99</div>
        <button class="add-btn" data-name="Dragon Character" data-price="14.99" data-image="https://placehold.co/300x300?text=Dragon">Add to Cart</button>
      </div>
    </section>
  </main>

  <div id="search-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); justify-content: center; align-items: center; z-index: 10001;">
    <div style="background: #15151e; border: 3px solid #000; box-shadow: 8px 8px 0px #000; padding: 30px; border-radius: 12px; max-width: 500px; width: 90%; position: relative; text-align: center;">
      <span id="close-search" style="position: absolute; top: 10px; right: 15px; cursor: pointer; font-size: 24px; color: white;">Ã—</span>
      <h2 style="font-weight: 900; text-transform: uppercase; color: #a31e1e; margin-bottom: 15px;">Search Characters</h2>
      <input id="search-input" style="width: 100%; padding: 12px; background: #0a0a0f; border: 2px solid #000; border-radius: 8px; color: #fff;" placeholder="Type to search..." type="text" />
    </div>
  </div>

  <script>
    // Navigation Toggle Safety Net
    function toggleCart() {
      const miniCart = document.getElementById('mini-cart');
      miniCart.style.display = (miniCart.style.display === 'block') ? 'none' : 'block';
    }
    window.addEventListener('click', (e) => {
      const cartContainer = document.getElementById('cart-icon-container');
      const miniCart = document.getElementById('mini-cart');
      if (cartContainer && !cartContainer.contains(e.target)) miniCart.style.display = 'none';
    });

    // Search and Filter Logic
    document.addEventListener('DOMContentLoaded', () => {
      const searchBtn = document.getElementById('search-btn');
      const searchModal = document.getElementById('search-modal');
      const closeSearch = document.getElementById('close-search');
      const searchInput = document.getElementById('search-input');
      const checkboxes = document.querySelectorAll('aside input[type="checkbox"]');
      const cards = document.querySelectorAll('.card');

      searchBtn.addEventListener('click', () => searchModal.style.display = 'flex');
      closeSearch.addEventListener('click', () => searchModal.style.display = 'none');

      function applyFilters() {
        const query = searchInput.value.toLowerCase();
        const activeTypes = Array.from(checkboxes).filter(i => i.checked).map(i => i.value.toLowerCase());
        cards.forEach(card => {
          const name = card.querySelector('.name').textContent.toLowerCase();
          const category = card.getAttribute('data-category').toLowerCase();
          const matchesSearch = name.includes(query);
          const matchesType = activeTypes.length === 0 || activeTypes.some(type => category.includes(type));
          card.style.display = (matchesSearch && matchesType) ? 'block' : 'none';
        });
      }
      searchInput.addEventListener('input', applyFilters);
      checkboxes.forEach(cb => cb.addEventListener('change', applyFilters));
    });
  </script>
  <script src="cart.js" defer></script>
</body>
</html>
